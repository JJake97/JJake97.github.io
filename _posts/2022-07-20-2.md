---
layout: single
title: '반도체 계측 데이터 기반 군집화를 활용한 개선된 품질 예측 방법론'
categories: Paper
tag: Pytorch
toc: true
author_profile: false
sidebar:
  nav: 'docs'
---


# 반도체 계측 데이터 기반 군집화를 활용한 개선된 품질 예측 방법론 Summary

- 반도체 공정 중 불량을 잡아내는 테스트 관점에서 아래의 흐름도 대로 테스트가 진행된다
![nn](./image_/1.png)

- 그림에서 Failure A는 전량 테스트 과정 중 식별이 되는 불량, Failure B는 전량 테스트 이후 추가로 식별되는 불량을 의미한다
- 이때, Failure B는 앞선 테스트 과정에서는 식별되지 않는 불량으로 중요한 불량으로 분류되어 이 불량의 통계적 분석과 품질을 예측하기 위한 노력을 하고 있다
- 본 Paper에서는 Chip 단위의 반도체 품질을 예측하는 동시에 예측된 불량의 종류를 특성별로 나누어 식별하고 최종 품질의 예측 성능 또한 향상시키는 품질 예측 방법론을 제안한다
- 이를 위해 FBC, 동작 신호 측정치, BBC, 전압, 전류 등을 독립변수로 사용하였으며 발생 불량에 군집화를 진행하고 특성별로 군집화된 불량을 사용하여 품질 예측 모델을 구축하였다

## 군집화 적용 및 품질 예측

![nn](./image_/2.png)
- 위 그림 처럼 불량을 특성별로 나누어 구축한 품질 예측 모델들의 결과로 확률 값들이 산출되며, 하나 이상의 품질 예측 모델이 불량으로 예측할 경우 해당 Chip은 불량이라 판단하고 가장 높은 확률 값을 갖는 불량의 특성에 해당 불량을 할당한다

### 데이터 불균형

- 데이터의 불균형이 있다면 분류 모델의 성능 지표에 왜곡을 가져오고 성능 저하등의 영향을 줄 수 있다
- 본 Paper에서는 SMOTE(Synthetic Minority Over-sampling Techinique)기법을 사용하여 해당 불균형 문제를 해결한다

### 군집화

![nn](image_/3.png)
- 위 그림은 단일 종류의 품질 불량에 대해 PCA를 진행하고 분산보존 약 20%의 3차원으로 축소하여 나타낸 그래프이다.
- 임의 군집수 3으로 군집화를 진행한 결과 데이터 특성별로 나뉘는 경향을 보인다. 같은 불량이더라도 근본원인은 상이할 수 있기 때문에 특성에 따른 불량의 분류와 품질 예측 성능 향상을 위해 군집화를 진행한다
- k-means 군집화와 자기조직화지도 군집화를 진행하였다

### 데이터 및 성능 척도

- Table1에서 알 수 있듯이 데이터의 독립변수는 46개, 정상 관측치 14,489개, 비정상 관측치 87개이다
- 예측 모델의 성능 평가 척도는 이진 분류에서 널리 사용되는 ROC 커브의 AUC를 사용한다

## 실험 결과

1. 군집화 결과

- 군집화 평가 척도로 총 제곱합, 평균 실루엣을 사용한다
![nn](image_/4.png)
- 그림에서 알수 있듯이 데이터가 한 가지 종류의 불량으로 구성되었지만 해당 불량이 데이터 상에서 2 or 3 종류의 다른 특성을 보이는 불량들로 구성되어 있다고 할 수 있다

2. 품질 예층 성능 비교

![nn](image_/5.png)
- Table 3은 군집화를 적용하지 않은 일반적인 예측 모델과 제안된 예측 모델의 성능을 평균 AUC 결과로 비교한 표이다
- 비군집 예측 모델에 비해 군집화 적용 예측 모델이 평균적으로 약 3.75%p AUC가 개선되는 결과를 보였다

![nn](image_/6.png)
- 10겹 교차 검증 결과를 통해 이표본 t-검정에 따른 유의차 p-value를 나타내었다
- 비군집 예측 모델과 군집화 적용 예측 모델 간 p-value가 굉장히 작기 때문에 AUC 성능 차이가 유의하다 할 수 있다

3. ROC Curve 비교

![nn](image_/7.png)
- 군집수 2의 예측 모델을 예로 선택하여 비군집 예측 모델과 비교하였을 때 AUC는 약 4.4%p 향상되는 결과를 보였다

> 본 연구에 사용된 데이터는 군집수 2와 3에서 군집화 평가 척도 수치가 가장 높았고, 불량의 종류가 더욱 다양하고 보다 복잡도가 높은 공정 데이터에 대해서는 더욱 다양한 군집수 결과가 나올 수 있다. 본 제안 방법은 품질 불량 발생 시 시간적 비용이 소요되는 전기, 물리적 분석 이전에 적용되어 불량의 종류와 관련 인자 등 간접적인 단서를 얻을 수 있으며 관련 부서에 불량 칩을 효과적으로 할당하여 분석 효율을 높이고 불량이 잠재된 물량에 대해 향상된 품질 예측 및 불량 개별 관리가 가능하게 할 것으로 기대된다
